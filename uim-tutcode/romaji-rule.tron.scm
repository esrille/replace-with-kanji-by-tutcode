;;;
;;; Copyright (c) 2003-2013 uim Project http://code.google.com/p/uim/
;;;
;;; All rights reserved.
;;;
;;; Redistribution and use in source and binary forms, with or without
;;; modification, are permitted provided that the following conditions
;;; are met:
;;; 1. Redistributions of source code must retain the above copyright
;;;    notice, this list of conditions and the following disclaimer.
;;; 2. Redistributions in binary form must reproduce the above copyright
;;;    notice, this list of conditions and the following disclaimer in the
;;;    documentation and/or other materials provided with the distribution.
;;; 3. Neither the name of authors nor the names of its contributors
;;;    may be used to endorse or promote products derived from this software
;;;    without specific prior written permission.
;;;
;;; THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ``AS IS'' AND
;;; ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
;;; IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
;;; ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT HOLDERS OR CONTRIBUTORS BE LIABLE
;;; FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
;;; DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
;;; OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
;;; HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
;;; LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
;;; OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
;;; SUCH DAMAGE.
;;;;

;;; tutcode.scm用キー配列テーブルの定義
;;; TUT-Code。QWERTYキーボード用。
(define tutcode-rule
  '(
    ; tutcode-key-customで設定
    ;((("a" "l" "a"))(tutcode-bushu-start)) ;前置型部首合成変換開始
    ;((("a" "l" "j"))(tutcode-mazegaki-start)) ;前置型交ぜ書き変換開始
    ((("a"))("あ" "ア"))
    ((("i"))("い" "イ"))
    ((("u"))("う" "ウ"))
    ((("e"))("え" "エ"))
    ((("o"))("お" "オ"))
    ((("k" "a"))("か" "カ"))
    ((("k" "i"))("き" "キ"))
    ((("k" "u"))("く" "ク"))
    ((("k" "e"))("け" "ケ"))
    ((("k" "o"))("こ" "コ"))
    ((("s" "a"))("さ" "サ"))
    ((("s" "i"))("し" "シ"))
    ((("s" "u"))("す" "ス"))
    ((("s" "e"))("せ" "セ"))
    ((("s" "o"))("そ" "ソ"))
    ((("t" "a"))("た" "タ"))
    ((("t" "i"))("ち" "チ"))
    ((("t" "u"))("つ" "ツ"))
    ((("t" "e"))("て" "テ"))
    ((("t" "o"))("と" "ト"))
    ((("n" "a"))("な" "ナ"))
    ((("n" "i"))("に" "ニ"))
    ((("n" "u"))("ぬ" "ヌ"))
    ((("n" "e"))("ね" "ネ"))
    ((("n" "o"))("の" "ノ"))
    ((("h" "a"))("は" "ハ"))
    ((("h" "i"))("ひ" "ヒ"))
    ((("h" "u"))("ふ" "フ"))
    ((("h" "e"))("へ" "ヘ"))
    ((("h" "o"))("ほ" "ホ"))
    ((("m" "a"))("ま" "マ"))
    ((("m" "i"))("み" "ミ"))
    ((("m" "u"))("む" "ム"))
    ((("m" "e"))("め" "メ"))
    ((("m" "o"))("も" "モ"))
    ((("y" "a"))("や" "ヤ"))
    ((("y" "u"))("ゆ" "ユ"))
    ((("y" "o"))("よ" "ヨ"))
    ((("r" "a"))("ら" "ラ"))
    ((("r" "i"))("り" "リ"))
    ((("r" "u"))("る" "ル"))
    ((("r" "e"))("れ" "レ"))
    ((("r" "o"))("ろ" "ロ"))
    ((("w" "a"))("わ" "ワ"))
    ((("n"))("ん" "ン"))
    ((("n" "'"))("ん" "ン"))
    ((("n" "b"). ("b"))("ん" "ン"))
    ((("n" "c"). ("c"))("ん" "ン"))
    ((("n" "d"). ("d"))("ん" "ン"))
    ((("n" "f"). ("f"))("ん" "ン"))
    ((("n" "g"). ("g"))("ん" "ン"))
    ((("n" "h"). ("h"))("ん" "ン"))
    ((("n" "j"). ("j"))("ん" "ン"))
    ((("n" "k"). ("k"))("ん" "ン"))
    ((("n" "p"). ("p"))("ん" "ン"))
    ((("n" "q"). ("q"))("ん" "ン"))
    ((("n" "r"). ("r"))("ん" "ン"))
    ((("n" "s"). ("s"))("ん" "ン"))
    ((("n" "t"). ("t"))("ん" "ン"))
    ((("n" "v"). ("v"))("ん" "ン"))
    ((("n" "w"). ("w"))("ん" "ン"))
    ((("n" "x"). ("x"))("ん" "ン"))
    ((("n" "y"). ("y"))("ん" "ン"))
    ((("n" "z"). ("z"))("ん" "ン"))
    ((("g" "a"))("が" "ガ"))
    ((("g" "i"))("ぎ" "ギ"))
    ((("g" "u"))("ぐ" "グ"))
    ((("g" "e"))("げ" "ゲ"))
    ((("g" "o"))("ご" "ゴ"))
    ((("z" "a"))("ざ" "ザ"))
    ((("z" "i"))("じ" "ジ"))
    ((("z" "u"))("ず" "ズ"))
    ((("z" "e"))("ぜ" "ゼ"))
    ((("z" "o"))("ぞ" "ゾ"))
    ((("d" "a"))("だ" "ダ"))
    ((("d" "e"))("で" "デ"))
    ((("d" "o"))("ど" "ド"))
    ((("b" "a"))("ば" "バ"))
    ((("b" "i"))("び" "ビ"))
    ((("b" "u"))("ぶ" "ブ"))
    ((("b" "e"))("べ" "ベ"))
    ((("b" "o"))("ぼ" "ボ"))
    ((("p" "a"))("ぱ" "パ"))
    ((("p" "i"))("ぴ" "ピ"))
    ((("p" "u"))("ぷ" "プ"))
    ((("p" "e"))("ぺ" "ペ"))
    ((("p" "o"))("ぽ" "ポ"))
    ((("k" "y" "a"))("きゃ" "キャ"))
    ((("k" "y" "u"))("きゅ" "キュ"))
    ((("k" "y" "o"))("きょ" "キョ"))
    ((("s" "y" "a"))("しゃ" "シャ"))
    ((("s" "y" "u"))("しゅ" "シュ"))
    ((("s" "y" "o"))("しょ" "ショ"))
    ((("t" "y" "a"))("ちゃ" "チャ"))
    ((("t" "y" "u"))("ちゅ" "チュ"))
    ((("t" "y" "o"))("ちょ" "チョ"))
    ((("n" "y" "a"))("にゃ" "ニャ"))
    ((("n" "y" "u"))("にゅ" "ニュ"))
    ((("n" "y" "o"))("にょ" "ニョ"))
    ((("h" "y" "a"))("ひゃ" "ヒャ"))
    ((("h" "y" "u"))("ひゅ" "ヒュ"))
    ((("h" "y" "o"))("ひょ" "ヒョ"))
    ((("m" "y" "a"))("みゃ" "ミャ"))
    ((("m" "y" "u"))("みゅ" "ミュ"))
    ((("m" "y" "o"))("みょ" "ミョ"))
    ((("r" "y" "a"))("りゃ" "リャ"))
    ((("r" "y" "u"))("りゅ" "リュ"))
    ((("r" "y" "o"))("りょ" "リョ"))
    ((("g" "y" "a"))("ぎゃ" "ギャ"))
    ((("g" "y" "u"))("ぎゅ" "ギュ"))
    ((("g" "y" "o"))("ぎょ" "ギョ"))
    ((("z" "y" "a"))("じゃ" "ジャ"))
    ((("z" "y" "u"))("じゅ" "ジュ"))
    ((("z" "y" "o"))("じょ" "ジョ"))
    ((("b" "y" "a"))("びゃ" "ビャ"))
    ((("b" "y" "u"))("びゅ" "ビュ"))
    ((("b" "y" "o"))("びょ" "ビョ"))
    ((("p" "y" "a"))("ぴゃ" "ピャ"))
    ((("p" "y" "u"))("ぴゅ" "ピュ"))
    ((("p" "y" "o"))("ぴょ" "ピョ"))
    ((("b" "b"). ("b"))("っ" "ッ"))
    ((("c" "c"). ("c"))("っ" "ッ"))
    ((("d" "d"). ("d"))("っ" "ッ"))
    ((("f" "f"). ("f"))("っ" "ッ"))
    ((("g" "g"). ("g"))("っ" "ッ"))
    ((("h" "h"). ("h"))("っ" "ッ"))
    ((("j" "j"). ("j"))("っ" "ッ"))
    ((("k" "k"). ("k"))("っ" "ッ"))
    ((("p" "p"). ("p"))("っ" "ッ"))
    ((("q" "q"). ("q"))("っ" "ッ"))
    ((("r" "r"). ("r"))("っ" "ッ"))
    ((("s" "s"). ("s"))("っ" "ッ"))
    ((("t" "t"). ("t"))("っ" "ッ"))
    ((("v" "v"). ("v"))("っ" "ッ"))
    ((("w" "w"). ("w"))("っ" "ッ"))
    ((("x" "x"). ("x"))("っ" "ッ"))
    ((("y" "y"). ("y"))("っ" "ッ"))
    ((("z" "z"). ("z"))("っ" "ッ"))
    ((("n" "n"))("ん" "ン"))
    ((("x" "n"))("ん" "ン"))
    ((("x" "a"))("ぁ" "ァ"))
    ((("x" "i"))("ぃ" "ィ"))
    ((("x" "u"))("ぅ" "ゥ"))
    ((("x" "e"))("ぇ" "ェ"))
    ((("x" "o"))("ぉ" "ォ"))
    ((("x" "t" "u"))("っ" "ッ"))
    ((("x" "y" "a"))("ゃ" "ャ"))
    ((("x" "y" "u"))("ゅ" "ュ"))
    ((("x" "y" "o"))("ょ" "ョ"))
    ((("x" "w" "a"))("ゎ" "ヮ"))
    ((("x" "k" "a"))("ヵ" "ヵ"))
    ((("x" "k" "e"))("ヶ" "ヶ"))
    ((("w" "y" "i"))("ゐ" "ヰ"))
    ((("w" "y" "e"))("ゑ" "ヱ"))
    ((("w" "o"))("を" "ヲ"))
    ((("d" "i"))("ぢ" "ヂ"))
    ((("d" "u"))("づ" "ヅ"))
    ((("y" "i"))("いぃ" "イィ"))
    ((("y" "e"))("いぇ" "イェ"))
    ((("k" "y" "i"))("きぃ" "キィ"))
    ((("k" "y" "e"))("きぇ" "キェ"))
    ((("s" "y" "i"))("しぃ" "シィ"))
    ((("s" "y" "e"))("しぇ" "シェ"))
    ((("t" "y" "i"))("ちぃ" "チィ"))
    ((("t" "y" "e"))("ちぇ" "チェ"))
    ((("n" "y" "i"))("にぃ" "ニィ"))
    ((("n" "y" "e"))("にぇ" "ニェ"))
    ((("h" "y" "i"))("ひぃ" "ヒィ"))
    ((("h" "y" "e"))("ひぇ" "ヒェ"))
    ((("m" "y" "i"))("みぃ" "ミィ"))
    ((("m" "y" "e"))("みぇ" "ミェ"))
    ((("r" "y" "i"))("りぃ" "リィ"))
    ((("r" "y" "e"))("りぇ" "リェ"))
    ((("g" "y" "i"))("ぎぃ" "ギィ"))
    ((("g" "y" "e"))("ぎぇ" "ギェ"))
    ((("z" "y" "i"))("じぃ" "ジィ"))
    ((("z" "y" "e"))("じぇ" "ジェ"))
    ((("b" "y" "i"))("びぃ" "ビィ"))
    ((("b" "y" "e"))("びぇ" "ビェ"))
    ((("p" "y" "i"))("ぴぃ" "ピィ"))
    ((("p" "y" "e"))("ぴぇ" "ピェ"))
    ((("w" "i"))("うぃ" "ウィ"))
    ((("w" "e"))("うぇ" "ウェ"))
    ((("k" "w" "a"))("くぁ" "クァ"))
    ((("k" "w" "i"))("くぃ" "クィ"))
    ((("k" "w" "u"))("くぅ" "クゥ"))
    ((("k" "w" "e"))("くぇ" "クェ"))
    ((("k" "w" "o"))("くぉ" "クォ"))
    ((("s" "w" "a"))("すぁ" "スァ"))
    ((("s" "w" "i"))("すぃ" "スィ"))
    ((("s" "w" "u"))("すぅ" "スゥ"))
    ((("s" "w" "e"))("すぇ" "スェ"))
    ((("s" "w" "o"))("すぉ" "スォ"))
    ((("n" "w" "a"))("ぬぁ" "ヌァ"))
    ((("n" "w" "i"))("ぬぃ" "ヌィ"))
    ((("n" "w" "u"))("ぬぅ" "ヌゥ"))
    ((("n" "w" "e"))("ぬぇ" "ヌェ"))
    ((("n" "w" "o"))("ぬぉ" "ヌォ"))
    ((("m" "w" "a"))("むぁ" "ムァ"))
    ((("m" "w" "i"))("むぃ" "ムィ"))
    ((("m" "w" "u"))("むぅ" "ムゥ"))
    ((("m" "w" "e"))("むぇ" "ムェ"))
    ((("m" "w" "o"))("むぉ" "ムォ"))
    ((("r" "w" "a"))("るぁ" "ルァ"))
    ((("r" "w" "i"))("るぃ" "ルィ"))
    ((("r" "w" "u"))("るぅ" "ルゥ"))
    ((("r" "w" "e"))("るぇ" "ルェ"))
    ((("r" "w" "o"))("るぉ" "ルォ"))
    ((("g" "w" "a"))("ぐぁ" "グァ"))
    ((("g" "w" "i"))("ぐぃ" "グィ"))
    ((("g" "w" "u"))("ぐぅ" "グゥ"))
    ((("g" "w" "e"))("ぐぇ" "グェ"))
    ((("g" "w" "o"))("ぐぉ" "グォ"))
    ((("b" "w" "a"))("ぶぁ" "ブァ"))
    ((("b" "w" "i"))("ぶぃ" "ブィ"))
    ((("b" "w" "u"))("ぶぅ" "ブゥ"))
    ((("b" "w" "e"))("ぶぇ" "ブェ"))
    ((("b" "w" "o"))("ぶぉ" "ブォ"))
    ((("p" "w" "a"))("ぷぁ" "ぷァ"))
    ((("p" "w" "i"))("ぷぃ" "ぷィ"))
    ((("p" "w" "u"))("ぷぅ" "ぷゥ"))
    ((("p" "w" "e"))("ぷぇ" "ぷェ"))
    ((("p" "w" "o"))("ぷぉ" "ぷォ"))
    ((("t" "s" "a"))("つぁ" "ツァ"))
    ((("t" "s" "i"))("つぃ" "ツィ"))
    ((("t" "s" "u"))("つぅ" "ツゥ"))
    ((("t" "s" "e"))("つぇ" "ツェ"))
    ((("t" "s" "o"))("つぉ" "ツォ"))
    ((("z" "w" "a"))("づぁ" "ヅァ"))
    ((("z" "w" "i"))("づぃ" "ヅィ"))
    ((("z" "w" "u"))("づぅ" "ヅゥ"))
    ((("z" "w" "e"))("づぇ" "ヅェ"))
    ((("z" "w" "o"))("づぉ" "ヅォ"))
    ((("t" "w" "a"))("とぁ" "トァ"))
    ((("t" "w" "i"))("とぃ" "トィ"))
    ((("t" "w" "u"))("とぅ" "トゥ"))
    ((("t" "w" "e"))("とぇ" "トェ"))
    ((("t" "w" "o"))("とぉ" "トォ"))
    ((("d" "w" "a"))("どぁ" "ドァ"))
    ((("d" "w" "i"))("どぃ" "ドィ"))
    ((("d" "w" "u"))("どぅ" "ドゥ"))
    ((("d" "w" "e"))("どぇ" "ドェ"))
    ((("d" "w" "o"))("どぉ" "ドォ"))
    ((("f" "a"))("ふぁ" "ファ"))
    ((("f" "i"))("ふぃ" "フィ"))
    ((("f" "u"))("ふぅ" "フゥ"))
    ((("f" "e"))("ふぇ" "フェ"))
    ((("f" "o"))("ふぉ" "フォ"))
    ((("h" "w" "a"))("ほぁ" "ホァ"))
    ((("h" "w" "i"))("ほぃ" "ホィ"))
    ((("h" "w" "u"))("ほぅ" "ホゥ"))
    ((("h" "w" "e"))("ほぇ" "ホェ"))
    ((("h" "w" "o"))("ほぉ" "ホォ"))
    ((("v" "a"))("う゛ぁ" "ヴァ"))
    ((("v" "i"))("う゛ぃ" "ヴィ"))
    ((("v" "u"))("う゛" "ヴ"))
    ((("v" "e"))("う゛ぇ" "ヴェ"))
    ((("v" "o"))("う゛ぉ" "ヴォ"))
    ((("t" "j" "a"))("てゃ" "テャ"))
    ((("t" "j" "i"))("てぃ" "ティ"))
    ((("t" "j" "u"))("てゅ" "テュ"))
    ((("t" "j" "e"))("てぇ" "テェ"))
    ((("t" "j" "o"))("てょ" "テョ"))
    ((("d" "j" "a"))("でゃ" "デャ"))
    ((("d" "j" "i"))("でぃ" "ディ"))
    ((("d" "j" "u"))("でゅ" "デュ"))
    ((("d" "j" "e"))("でぇ" "デェ"))
    ((("d" "j" "o"))("でょ" "デョ"))
    ((("f" "y" "a"))("ふゃ" "フャ"))
    ((("f" "y" "u"))("ふゅ" "フュ"))
    ((("f" "y" "o"))("ふょ" "フョ"))
    ((("v" "y" "a"))("う゛ゃ" "ヴャ"))
    ((("v" "y" "u"))("う゛ゅ" "ヴュ"))
    ((("v" "y" "o"))("う゛ょ" "ヴョ"))
    ((("d" "y" "a"))("ぢゃ" "ヂャ"))
    ((("d" "y" "i"))("ぢぃ" "ヂィ"))
    ((("d" "y" "u"))("ぢゅ" "ヂュ"))
    ((("d" "y" "e"))("ぢぇ" "ヂェ"))
    ((("d" "y" "o"))("ぢょ" "ヂョ"))
    ((("s" "h" "a"))("しゃ" "シャ"))
    ((("s" "h" "i"))("し" "シ"))
    ((("s" "h" "u"))("しゅ" "シュ"))
    ((("s" "h" "e"))("しぇ" "シェ"))
    ((("s" "h" "o"))("しょ" "ショ"))
    ((("c" "h" "a"))("ちゃ" "チャ"))
    ((("c" "h" "i"))("ち" "チ"))
    ((("c" "h" "u"))("ちゅ" "チュ"))
    ((("c" "h" "e"))("ちぇ" "チェ"))
    ((("c" "h" "o"))("ちょ" "チョ"))
    ((("j" "a"))("じゃ" "ジャ"))
    ((("j" "i"))("じ" "ジ"))
    ((("j" "u"))("じゅ" "ジュ"))
    ((("j" "e"))("じぇ" "ジェ"))
    ((("j" "o"))("じょ" "ジョ"))
    ((("0"))("0" "0"))
    ((("1"))("1" "1"))
    ((("2"))("2" "2"))
    ((("3"))("3" "3"))
    ((("4"))("4" "4"))
    ((("5"))("5" "5"))
    ((("6"))("6" "6"))
    ((("7"))("7" "7"))
    ((("8"))("8" "8"))
    ((("9"))("9" "9"))
    ((("!"))("！" "!"))
    ((("@"))("＠" "＠"))
    ((("#"))("＃" "＃"))
    ((("$"))("＄" "＄"))
    ((("%"))("％" "％"))
    ((("^"))("＾" "＾"))
    ((("&"))("＆" "＆"))
    ((("*"))("＊" "＊"))
    ((("("))("（" "（"))
    (((")"))("）" "）"))
    ((("-"))("ー" "ー"))
    ((("="))("＝" "＝"))
    ((("_"))("＿" "＿"))
    ((("+"))("＋" "＋"))
    (((":"))("：" "："))
    (((";"))("；" "；"))
    ((("'"))("　" "　"))
    ((("\""))("・" "・"))
    ((("|"))("｜" "｜"))
    (((","))("、" "、"))
    ((("."))("。" "。"))
    ((("<"))("＜" "＜"))
    (((">"))("＞" "＞"))
    ((("/"))("／" "／"))
    ((("?"))("？" "？"))
    ((("`"))("…" "…"))
    ((("~"))("〜" "〜"))
    ((("["))("「" "「"))
    ((("]"))("」" "」"))
    ((("{"))("『" "『"))
    ((("}"))("』" "』"))
    ((("\\" "\\"))("￥" "￥"))
    ((("\\" "i"))("射" "射"))
    ((("\\" "d" "i"))("生" "生"))
    ((("\\" "u"))("売" "売"))
    ((("\\" "e"))("得" "得"))
    ((("\\" "o"))("負" "負"))
    ((("\\" "w" "o"))("織" "織"))
    ((("\\" "k" "a"))("買" "買"))
    ((("\\" "g" "a"))("飼" "飼"))
    ((("\\" "x" "y" "u"))("欠" "欠"))
    ((("\\" "k" "i"))("切" "切"))
    ((("\\" "g" "i"))("着" "着"))
    ((("\\" "t" "a"))("裁" "裁"))
    ((("\\" "t" "o"))("解" "解"))
    ((("\\" "d" "o"))("説" "説"))
    ((("\\" "n" "i"))("似" "似"))
    ((("\\" "z" "e"))("煮" "煮"))
    ((("z" " "))("　" "　"))
    ((("z" "."))("…" "…"))
    ((("z" "/"))("・" "・"))
    ((("z" "["))("『" "『"))
    ((("z" "]"))("』" "』"))
    ((("n" " "))("ん" "ン"))
    ((("n" ","))("ん、" "ン、"))
    ((("n" "."))("ん。" "ン。"))
    ((("n" "?"))("ん？" "ン？"))
    ((("n" "\""))("ん・" "ン・"))))

(if (and (symbol-bound? 'tutcode-rule-use-tutplus?)
         tutcode-rule-use-tutplus?)
  (set! tutcode-rule (append tutcode-rule tutcode-rule-shin-joyo-kanji-plus)))

(define tutcode-rule-uppercase-for-katakana
  '(
    ((("A"))("ア" "あ"))
    ((("I"))("イ" "い"))
    ((("U"))("ウ" "う"))
    ((("E"))("エ" "え"))
    ((("O"))("オ" "お"))
    ((("K" "A"))("カ" "か"))
    ((("K" "I"))("キ" "き"))
    ((("K" "U"))("ク" "く"))
    ((("K" "E"))("ケ" "け"))
    ((("K" "O"))("コ" "こ"))
    ((("S" "A"))("サ" "さ"))
    ((("S" "I"))("シ" "し"))
    ((("S" "U"))("ス" "す"))
    ((("S" "E"))("セ" "せ"))
    ((("S" "O"))("ソ" "そ"))
    ((("T" "A"))("タ" "た"))
    ((("T" "I"))("チ" "ち"))
    ((("T" "U"))("ツ" "つ"))
    ((("T" "E"))("テ" "て"))
    ((("T" "O"))("ト" "と"))
    ((("N" "A"))("ナ" "な"))
    ((("N" "I"))("ニ" "に"))
    ((("N" "U"))("ヌ" "ぬ"))
    ((("N" "E"))("ネ" "ね"))
    ((("N" "O"))("ノ" "の"))
    ((("H" "A"))("ハ" "は"))
    ((("H" "I"))("ヒ" "ひ"))
    ((("H" "U"))("フ" "ふ"))
    ((("H" "E"))("ヘ" "へ"))
    ((("H" "O"))("ホ" "ほ"))
    ((("M" "A"))("マ" "ま"))
    ((("M" "I"))("ミ" "み"))
    ((("M" "U"))("ム" "む"))
    ((("M" "E"))("メ" "め"))
    ((("M" "O"))("モ" "も"))
    ((("Y" "A"))("ヤ" "や"))
    ((("Y" "U"))("ユ" "ゆ"))
    ((("Y" "O"))("ヨ" "よ"))
    ((("R" "A"))("ラ" "ら"))
    ((("R" "I"))("リ" "り"))
    ((("R" "U"))("ル" "る"))
    ((("R" "E"))("レ" "れ"))
    ((("R" "O"))("ロ" "ろ"))
    ((("W" "A"))("ワ" "わ"))
    ((("N"))("ン" "ん"))
    ((("N" "'"))("ン" "ん"))
    ((("N" "B"). ("B"))("ン" "ん"))
    ((("N" "C"). ("C"))("ン" "ん"))
    ((("N" "D"). ("D"))("ン" "ん"))
    ((("N" "F"). ("F"))("ン" "ん"))
    ((("N" "G"). ("G"))("ン" "ん"))
    ((("N" "H"). ("H"))("ン" "ん"))
    ((("N" "J"). ("J"))("ン" "ん"))
    ((("N" "K"). ("K"))("ン" "ん"))
    ((("N" "P"). ("P"))("ン" "ん"))
    ((("N" "Q"). ("Q"))("ン" "ん"))
    ((("N" "R"). ("R"))("ン" "ん"))
    ((("N" "S"). ("S"))("ン" "ん"))
    ((("N" "T"). ("T"))("ン" "ん"))
    ((("N" "V"). ("V"))("ン" "ん"))
    ((("N" "W"). ("W"))("ン" "ん"))
    ((("N" "X"). ("X"))("ン" "ん"))
    ((("N" "Y"). ("Y"))("ン" "ん"))
    ((("N" "Z"). ("Z"))("ン" "ん"))
    ((("G" "A"))("ガ" "が"))
    ((("G" "I"))("ギ" "ぎ"))
    ((("G" "U"))("グ" "ぐ"))
    ((("G" "E"))("ゲ" "げ"))
    ((("G" "O"))("ゴ" "ご"))
    ((("Z" "A"))("ザ" "ざ"))
    ((("Z" "I"))("ジ" "じ"))
    ((("Z" "U"))("ズ" "ず"))
    ((("Z" "E"))("ゼ" "ぜ"))
    ((("Z" "O"))("ゾ" "ぞ"))
    ((("D" "A"))("ダ" "だ"))
    ((("D" "E"))("デ" "で"))
    ((("D" "O"))("ド" "ど"))
    ((("B" "A"))("バ" "ば"))
    ((("B" "I"))("ビ" "び"))
    ((("B" "U"))("ブ" "ぶ"))
    ((("B" "E"))("ベ" "べ"))
    ((("B" "O"))("ボ" "ぼ"))
    ((("P" "A"))("パ" "ぱ"))
    ((("P" "I"))("ピ" "ぴ"))
    ((("P" "U"))("プ" "ぷ"))
    ((("P" "E"))("ペ" "ぺ"))
    ((("P" "O"))("ポ" "ぽ"))
    ((("K" "Y" "A"))("キャ" "きゃ"))
    ((("K" "Y" "U"))("キュ" "きゅ"))
    ((("K" "Y" "O"))("キョ" "きょ"))
    ((("S" "Y" "A"))("シャ" "しゃ"))
    ((("S" "Y" "U"))("シュ" "しゅ"))
    ((("S" "Y" "O"))("ショ" "しょ"))
    ((("T" "Y" "A"))("チャ" "ちゃ"))
    ((("T" "Y" "U"))("チュ" "ちゅ"))
    ((("T" "Y" "O"))("チョ" "ちょ"))
    ((("N" "Y" "A"))("ニャ" "にゃ"))
    ((("N" "Y" "U"))("ニュ" "にゅ"))
    ((("N" "Y" "O"))("ニョ" "にょ"))
    ((("H" "Y" "A"))("ヒャ" "ひゃ"))
    ((("H" "Y" "U"))("ヒュ" "ひゅ"))
    ((("H" "Y" "O"))("ヒョ" "ひょ"))
    ((("M" "Y" "A"))("ミャ" "みゃ"))
    ((("M" "Y" "U"))("ミュ" "みゅ"))
    ((("M" "Y" "O"))("ミョ" "みょ"))
    ((("R" "Y" "A"))("リャ" "りゃ"))
    ((("R" "Y" "U"))("リュ" "りゅ"))
    ((("R" "Y" "O"))("リョ" "りょ"))
    ((("G" "Y" "A"))("ギャ" "ぎゃ"))
    ((("G" "Y" "U"))("ギュ" "ぎゅ"))
    ((("G" "Y" "O"))("ギョ" "ぎょ"))
    ((("Z" "Y" "A"))("ジャ" "じゃ"))
    ((("Z" "Y" "U"))("ジュ" "じゅ"))
    ((("Z" "Y" "O"))("ジョ" "じょ"))
    ((("B" "Y" "A"))("ビャ" "びゃ"))
    ((("B" "Y" "U"))("ビュ" "びゅ"))
    ((("B" "Y" "O"))("ビョ" "びょ"))
    ((("P" "Y" "A"))("ピャ" "ぴゃ"))
    ((("P" "Y" "U"))("ピュ" "ぴゅ"))
    ((("P" "Y" "O"))("ピョ" "ぴょ"))
    ((("B" "B"). ("B"))("ッ" "っ"))
    ((("C" "C"). ("C"))("ッ" "っ"))
    ((("D" "D"). ("D"))("ッ" "っ"))
    ((("F" "F"). ("F"))("ッ" "っ"))
    ((("G" "G"). ("G"))("ッ" "っ"))
    ((("H" "H"). ("H"))("ッ" "っ"))
    ((("J" "J"). ("J"))("ッ" "っ"))
    ((("K" "K"). ("K"))("ッ" "っ"))
    ((("P" "P"). ("P"))("ッ" "っ"))
    ((("Q" "Q"). ("Q"))("ッ" "っ"))
    ((("R" "R"). ("R"))("ッ" "っ"))
    ((("S" "S"). ("S"))("ッ" "っ"))
    ((("T" "T"). ("T"))("ッ" "っ"))
    ((("V" "V"). ("V"))("ッ" "っ"))
    ((("W" "W"). ("W"))("ッ" "っ"))
    ((("X" "X"). ("X"))("ッ" "っ"))
    ((("Y" "Y"). ("Y"))("ッ" "っ"))
    ((("Z" "Z"). ("Z"))("ッ" "っ"))
    ((("N" "N"))("ン" "ん"))
    ((("X" "N"))("ン" "ん"))
    ((("X" "A"))("ァ" "ぁ"))
    ((("X" "I"))("ィ" "ぃ"))
    ((("X" "U"))("ゥ" "ぅ"))
    ((("X" "E"))("ェ" "ぇ"))
    ((("X" "O"))("ォ" "ぉ"))
    ((("X" "T" "U"))("ッ" "っ"))
    ((("X" "Y" "A"))("ャ" "ゃ"))
    ((("X" "Y" "U"))("ュ" "ゅ"))
    ((("X" "Y" "O"))("ョ" "ょ"))
    ((("X" "W" "A"))("ヮ" "ゎ"))
    ((("X" "K" "A"))("ヵ" "ヵ"))
    ((("X" "K" "E"))("ヶ" "ヶ"))
    ((("W" "Y" "I"))("ヰ" "ゐ"))
    ((("W" "Y" "E"))("ヱ" "ゑ"))
    ((("W" "O"))("ヲ" "を"))
    ((("D" "I"))("ヂ" "ぢ"))
    ((("D" "U"))("ヅ" "づ"))
    ((("Y" "I"))("イィ" "いぃ"))
    ((("Y" "E"))("イェ" "いぇ"))
    ((("K" "Y" "I"))("キィ" "きぃ"))
    ((("K" "Y" "E"))("キェ" "きぇ"))
    ((("S" "Y" "I"))("シィ" "しぃ"))
    ((("S" "Y" "E"))("シェ" "しぇ"))
    ((("T" "Y" "I"))("チィ" "ちぃ"))
    ((("T" "Y" "E"))("チェ" "ちぇ"))
    ((("N" "Y" "I"))("ニィ" "にぃ"))
    ((("N" "Y" "E"))("ニェ" "にぇ"))
    ((("H" "Y" "I"))("ヒィ" "ひぃ"))
    ((("H" "Y" "E"))("ヒェ" "ひぇ"))
    ((("M" "Y" "I"))("ミィ" "みぃ"))
    ((("M" "Y" "E"))("ミェ" "みぇ"))
    ((("R" "Y" "I"))("リィ" "りぃ"))
    ((("R" "Y" "E"))("リェ" "りぇ"))
    ((("G" "Y" "I"))("ギィ" "ぎぃ"))
    ((("G" "Y" "E"))("ギェ" "ぎぇ"))
    ((("Z" "Y" "I"))("ジィ" "じぃ"))
    ((("Z" "Y" "E"))("ジェ" "じぇ"))
    ((("B" "Y" "I"))("ビィ" "びぃ"))
    ((("B" "Y" "E"))("ビェ" "びぇ"))
    ((("P" "Y" "I"))("ピィ" "ぴぃ"))
    ((("P" "Y" "E"))("ピェ" "ぴぇ"))
    ((("W" "I"))("ウィ" "うぃ"))
    ((("W" "E"))("ウェ" "うぇ"))
    ((("K" "W" "A"))("クァ" "くぁ"))
    ((("K" "W" "I"))("クィ" "くぃ"))
    ((("K" "W" "U"))("クゥ" "くぅ"))
    ((("K" "W" "E"))("クェ" "くぇ"))
    ((("K" "W" "O"))("クォ" "くぉ"))
    ((("S" "W" "A"))("スァ" "すぁ"))
    ((("S" "W" "I"))("スィ" "すぃ"))
    ((("S" "W" "U"))("スゥ" "すぅ"))
    ((("S" "W" "E"))("スェ" "すぇ"))
    ((("S" "W" "O"))("スォ" "すぉ"))
    ((("N" "W" "A"))("ヌァ" "ぬぁ"))
    ((("N" "W" "I"))("ヌィ" "ぬぃ"))
    ((("N" "W" "U"))("ヌゥ" "ぬぅ"))
    ((("N" "W" "E"))("ヌェ" "ぬぇ"))
    ((("N" "W" "O"))("ヌォ" "ぬぉ"))
    ((("M" "W" "A"))("ムァ" "むぁ"))
    ((("M" "W" "I"))("ムィ" "むぃ"))
    ((("M" "W" "U"))("ムゥ" "むぅ"))
    ((("M" "W" "E"))("ムェ" "むぇ"))
    ((("M" "W" "O"))("ムォ" "むぉ"))
    ((("R" "W" "A"))("ルァ" "るぁ"))
    ((("R" "W" "I"))("ルィ" "るぃ"))
    ((("R" "W" "U"))("ルゥ" "るぅ"))
    ((("R" "W" "E"))("ルェ" "るぇ"))
    ((("R" "W" "O"))("ルォ" "るぉ"))
    ((("G" "W" "A"))("グァ" "ぐぁ"))
    ((("G" "W" "I"))("グィ" "ぐぃ"))
    ((("G" "W" "U"))("グゥ" "ぐぅ"))
    ((("G" "W" "E"))("グェ" "ぐぇ"))
    ((("G" "W" "O"))("グォ" "ぐぉ"))
    ((("B" "W" "A"))("ブァ" "ぶぁ"))
    ((("B" "W" "I"))("ブィ" "ぶぃ"))
    ((("B" "W" "U"))("ブゥ" "ぶぅ"))
    ((("B" "W" "E"))("ブェ" "ぶぇ"))
    ((("B" "W" "O"))("ブォ" "ぶぉ"))
    ((("P" "W" "A"))("ぷァ" "ぷぁ"))
    ((("P" "W" "I"))("ぷィ" "ぷぃ"))
    ((("P" "W" "U"))("ぷゥ" "ぷぅ"))
    ((("P" "W" "E"))("ぷェ" "ぷぇ"))
    ((("P" "W" "O"))("ぷォ" "ぷぉ"))
    ((("T" "S" "A"))("ツァ" "つぁ"))
    ((("T" "S" "I"))("ツィ" "つぃ"))
    ((("T" "S" "U"))("ツゥ" "つぅ"))
    ((("T" "S" "E"))("ツェ" "つぇ"))
    ((("T" "S" "O"))("ツォ" "つぉ"))
    ((("Z" "W" "A"))("ヅァ" "づぁ"))
    ((("Z" "W" "I"))("ヅィ" "づぃ"))
    ((("Z" "W" "U"))("ヅゥ" "づぅ"))
    ((("Z" "W" "E"))("ヅェ" "づぇ"))
    ((("Z" "W" "O"))("ヅォ" "づぉ"))
    ((("T" "W" "A"))("トァ" "とぁ"))
    ((("T" "W" "I"))("トィ" "とぃ"))
    ((("T" "W" "U"))("トゥ" "とぅ"))
    ((("T" "W" "E"))("トェ" "とぇ"))
    ((("T" "W" "O"))("トォ" "とぉ"))
    ((("D" "W" "A"))("ドァ" "どぁ"))
    ((("D" "W" "I"))("ドィ" "どぃ"))
    ((("D" "W" "U"))("ドゥ" "どぅ"))
    ((("D" "W" "E"))("ドェ" "どぇ"))
    ((("D" "W" "O"))("ドォ" "どぉ"))
    ((("F" "A"))("ファ" "ふぁ"))
    ((("F" "I"))("フィ" "ふぃ"))
    ((("F" "U"))("フゥ" "ふぅ"))
    ((("F" "E"))("フェ" "ふぇ"))
    ((("F" "O"))("フォ" "ふぉ"))
    ((("H" "W" "A"))("ホァ" "ほぁ"))
    ((("H" "W" "I"))("ホィ" "ほぃ"))
    ((("H" "W" "U"))("ホゥ" "ほぅ"))
    ((("H" "W" "E"))("ホェ" "ほぇ"))
    ((("H" "W" "O"))("ホォ" "ほぉ"))
    ((("V" "A"))("ヴァ" "う゛ぁ"))
    ((("V" "I"))("ヴィ" "う゛ぃ"))
    ((("V" "U"))("ヴ" "う゛"))
    ((("V" "E"))("ヴェ" "う゛ぇ"))
    ((("V" "O"))("ヴォ" "う゛ぉ"))
    ((("T" "J" "A"))("テャ" "てゃ"))
    ((("T" "J" "I"))("ティ" "てぃ"))
    ((("T" "J" "U"))("テュ" "てゅ"))
    ((("T" "J" "E"))("テェ" "てぇ"))
    ((("T" "J" "O"))("テョ" "てょ"))
    ((("D" "J" "A"))("デャ" "でゃ"))
    ((("D" "J" "I"))("ディ" "でぃ"))
    ((("D" "J" "U"))("デュ" "でゅ"))
    ((("D" "J" "E"))("デェ" "でぇ"))
    ((("D" "J" "O"))("デョ" "でょ"))
    ((("F" "Y" "A"))("フャ" "ふゃ"))
    ((("F" "Y" "U"))("フュ" "ふゅ"))
    ((("F" "Y" "O"))("フョ" "ふょ"))
    ((("V" "Y" "A"))("ヴャ" "う゛ゃ"))
    ((("V" "Y" "U"))("ヴュ" "う゛ゅ"))
    ((("V" "Y" "O"))("ヴョ" "う゛ょ"))
    ((("D" "Y" "A"))("ヂャ" "ぢゃ"))
    ((("D" "Y" "I"))("ヂィ" "ぢぃ"))
    ((("D" "Y" "U"))("ヂュ" "ぢゅ"))
    ((("D" "Y" "E"))("ヂェ" "ぢぇ"))
    ((("D" "Y" "O"))("ヂョ" "ぢょ"))
    ((("S" "H" "A"))("シャ" "しゃ"))
    ((("S" "H" "I"))("シ" "し"))
    ((("S" "H" "U"))("シュ" "しゅ"))
    ((("S" "H" "E"))("シェ" "しぇ"))
    ((("S" "H" "O"))("ショ" "しょ"))
    ((("C" "H" "A"))("チャ" "ちゃ"))
    ((("C" "H" "I"))("チ" "ち"))
    ((("C" "H" "U"))("チュ" "ちゅ"))
    ((("C" "H" "E"))("チェ" "ちぇ"))
    ((("C" "H" "O"))("チョ" "ちょ"))
    ((("J" "A"))("ジャ" "じゃ"))
    ((("J" "I"))("ジ" "じ"))
    ((("J" "U"))("ジュ" "じゅ"))
    ((("J" "E"))("ジェ" "じぇ"))
    ((("J" "O"))("じょ" "ジョ"))
    ((("Z" " "))("　" "　"))
    ((("Z" "."))("…" "…"))
    ((("Z" "/"))("・" "・"))
    ((("Z" "["))("『" "『"))
    ((("Z" "]"))("』" "』"))
    ((("N" " "))("ン" "ん"))))

;;; 大文字で、現在のひらがな/カタカナモードと反対のカタカナ/ひらがなを入力する
;;; には、~/.uimに以下のように記述する。
;;;   (define tutcode-rule-uppercase-as-opposite-kana? #t)
;;; (従来からの動作は、大文字では必ずカタカナ入力)
(if (or (not (symbol-bound? 'tutcode-rule-uppercase-as-opposite-kana?))
        (not tutcode-rule-uppercase-as-opposite-kana?))
  (set! tutcode-rule-uppercase-for-katakana
    (map
      (lambda (x)
        (list (car x) (list (caadr x))))
      tutcode-rule-uppercase-for-katakana)))

(define tutcode-rule-uppercase-for-kigou-in-katakana
  '(
    ))

;;; 大文字でカタカナ入力を行う定義を登録しないようにするには、
;;; ~/.uimに以下のように記述する。(大文字でのカタカナ入力を使わない場合、
;;; stroke-helpの仮想鍵盤で下半分のシフトキー領域無しで半分のサイズで
;;; 表示したい場合など)
;;;   (define tutcode-rule-exclude-uppercase-for-katakana? #t)
;;; また、カタカナ中に出現することの多い"ー"と"・"を大文字で入力する定義のみを
;;; 登録しないようにするには、~/.uimに以下のように記述する。
;;;   (define tutcode-rule-exclude-uppercase-for-kigou-in-katakana? #t)
;;; (XXX:現状は、大文字の((("E" " "))("ー"))定義が使われても、
;;;  漢字→入力シーケンス変換すると小文字化される。それを回避したい場合用。
;;;  例:"CODE "と打鍵、"CODー"と表示、漢字→入力シーケンス変換すると"CODe ")
(if (or (not (symbol-bound? 'tutcode-rule-exclude-uppercase-for-katakana?))
        (not tutcode-rule-exclude-uppercase-for-katakana?))
  (set! tutcode-rule
    (append
      tutcode-rule
      tutcode-rule-uppercase-for-katakana
      (if (or (not (symbol-bound?
                    'tutcode-rule-exclude-uppercase-for-kigou-in-katakana?))
              (not tutcode-rule-exclude-uppercase-for-kigou-in-katakana?))
        tutcode-rule-uppercase-for-kigou-in-katakana
        ()))))
